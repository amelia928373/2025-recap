<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My 2025 Recap</title>
    <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        :root {
            --color-light: #ffffff;
            --color-dark: #171717;
            --book-bg: #fefcf3;
            --book-border: #d4a574;
            --text-primary: #2d1810;
            --text-secondary: #6b4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Georgia", "Times New Roman", serif;
            color: var(--text-primary);
            background: linear-gradient(135deg, #fef7ed, #fed7aa, #fecaca);
            min-height: 100vh;
        }

        .app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            position: sticky;
            top: 0;
            z-index: 10;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            height: 64px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom: 1px solid #f3e8d3;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 0 16px;
        }

        .header h2 {
            font-size: 20px;
            font-weight: bold;
            color: #92400e;
            font-family: Georgia, serif;
        }

        .main-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 32px;
        }

        .content-wrapper {
            width: 100%;
            max-width: 1024px;
            margin: 0 auto;
        }

        .title-section {
            text-align: center;
            margin-bottom: 32px;
        }

        .main-title {
            font-size: 48px;
            font-weight: bold;
            color: #92400e;
            margin-bottom: 16px;
            font-family: Georgia, serif;
        }

        .book-container {
            perspective: 1000px;
            max-width: 800px;
            margin: 0 auto;
        }

        .book-page {
            background: var(--book-bg);
            border: 2px solid var(--book-border);
            border-radius: 8px;
            box-shadow: 
                0 4px 8px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.5),
                0 0 0 1px rgba(212, 165, 116, 0.2);
            min-height: 600px;
            position: relative;
            overflow: hidden;
        }

        .page-content {
            padding: 40px;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease-in-out;
        }

        .page-content.flipping {
            transform: rotateY(-5deg);
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--book-border);
        }

        .chapter-info {
            flex: 1;
        }

        .chapter-number {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .chapter-title {
            font-size: 28px;
            font-weight: bold;
            color: var(--text-primary);
            margin: 8px 0;
            font-family: Georgia, serif;
        }

        .page-number {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-container {
            margin-bottom: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: #e5d3b3;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--book-border), #b8860b);
            transition: width 0.5s ease;
        }

        .question-content {
            flex: 1;
            margin-bottom: 30px;
        }

        .question-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 20px;
            font-family: Georgia, serif;
        }

        .question-textarea {
            width: 100%;
            min-height: 200px;
            padding: 20px;
            border: 2px solid #e5d3b3;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.8);
            font-size: 16px;
            line-height: 1.6;
            color: var(--text-primary);
            font-family: Georgia, serif;
            resize: vertical;
            transition: border-color 0.2s ease;
        }

        .question-textarea:focus {
            outline: none;
            border-color: var(--book-border);
            box-shadow: 0 0 0 3px rgba(212, 165, 116, 0.1);
        }

        .question-textarea::placeholder {
            color: #9ca3af;
            font-style: italic;
        }

        .page-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 1px solid #e5d3b3;
        }

        .title-nav {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }

        .export-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .nav-button {
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 500;
            font-size: 16px;
            transition: all 0.2s ease;
            cursor: pointer;
            font-family: Georgia, serif;
            border: none;
        }

        .export-button {
            padding: 8px 16px;
            font-size: 14px;
            background: transparent;
            border: 2px solid var(--book-border);
            color: var(--text-secondary);
        }

        .export-button:hover {
            background: rgba(212, 165, 116, 0.1);
            transform: translateY(-1px);
        }

        .prev-button {
            background: transparent;
            border: 2px solid var(--book-border);
            color: var(--text-secondary);
        }

        .prev-button:hover:not(:disabled) {
            background: rgba(212, 165, 116, 0.1);
        }

        .prev-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .next-button {
            background: linear-gradient(135deg, var(--book-border), #b8860b);
            border: none;
            color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .next-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .finish-button {
            background: linear-gradient(135deg, #059669, #047857);
            border: none;
            color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .finish-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .title-page {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            text-align: center;
        }

        .title-content {
            max-width: 400px;
        }

        .book-title {
            font-size: 48px;
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 30px;
            font-family: Georgia, serif;
            line-height: 1.2;
        }

        .title-decoration {
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--book-border), transparent);
            margin: 30px auto;
        }

        .completion-date {
            font-size: 18px;
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: 30px;
        }

        .title-ornament {
            font-size: 32px;
            margin-top: 20px;
        }

        .chapter-content {
            flex: 1;
        }

        .response-section {
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid #e5d3b3;
        }

        .response-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .response-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            font-family: Georgia, serif;
        }

        .response-text {
            font-size: 16px;
            line-height: 1.7;
            color: var(--text-primary);
            white-space: pre-wrap;
            font-family: Georgia, serif;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        .toast.error {
            background: #ef4444;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @media (max-width: 768px) {
            .main-title {
                font-size: 36px;
            }
            
            .page-content {
                padding: 20px;
            }
            
            .chapter-title {
                font-size: 24px;
            }
            
            .question-textarea {
                min-height: 150px;
                padding: 16px;
            }
            
            .page-navigation {
                flex-direction: column;
                gap: 12px;
            }
            
            .title-nav {
                flex-direction: column;
                gap: 12px;
            }
            
            .export-buttons {
                flex-direction: column;
                width: 100%;
            }
            
            .nav-button {
                width: 100%;
                text-align: center;
            }
            
            .export-button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const RECAP_SECTIONS = [
            {
                id: "about",
                title: "What My Year Was About",
                questions: [
                    { id: "personal_family", label: "Personal Life & Family" },
                    { id: "career_studies", label: "Career & Studies" },
                    { id: "friends_community", label: "Friends & Community" },
                    { id: "hobbies_creativity", label: "Hobbies & Creativity" },
                    { id: "physical_health", label: "Physical Health & Fitness" },
                    { id: "mental_health", label: "Mental Health & Growth" }
                ]
            },
            {
                id: "sentences",
                title: "Six Sentences About My Year",
                questions: [
                    { id: "wisest_decision", label: "The wisest decision I made was..." },
                    { id: "biggest_lesson", label: "The biggest lesson I learned was..." },
                    { id: "biggest_risk", label: "The biggest risk I took was..." },
                    { id: "biggest_surprise", label: "The biggest surprise of the year was..." },
                    { id: "important_for_others", label: "The most important thing I did for others was..." },
                    { id: "biggest_completion", label: "The biggest thing I completed was..." }
                ]
            },
            {
                id: "best_moments",
                title: "The Best Moments",
                questions: [
                    { id: "best_memories", label: "My Favorite Memories" }
                ]
            },
            {
                id: "accomplishments",
                title: "My Biggest Accomplishments",
                questions: [
                    { id: "accomplishment_1", label: "Accomplishment #1" },
                    { id: "accomplishment_2", label: "Accomplishment #2" },
                    { id: "accomplishment_3", label: "Accomplishment #3" }
                ]
            },
            {
                id: "challenges",
                title: "My Biggest Challenges",
                questions: [
                    { id: "challenge_1", label: "Challenge #1" },
                    { id: "challenge_2", label: "Challenge #2" },
                    { id: "challenge_3", label: "Challenge #3" }
                ]
            },
            {
                id: "three_words",
                title: "My Year in 3 Words",
                questions: [
                    { id: "word_1", label: "Word 1" },
                    { id: "word_2", label: "Word 2" },
                    { id: "word_3", label: "Word 3" }
                ]
            },
            {
                id: "goodbye",
                title: "Goodbye to My Year",
                questions: [
                    { id: "goodbye_letter", label: "Dear 2025..." }
                ]
            }
        ];

        const SECTION_LABELS = {
            personal_family: "Personal Life & Family",
            career_studies: "Career & Studies", 
            friends_community: "Friends & Community",
            hobbies_creativity: "Hobbies & Creativity",
            physical_health: "Physical Health & Fitness",
            mental_health: "Mental Health & Growth",
            wisest_decision: "The wisest decision I made was...",
            biggest_lesson: "The biggest lesson I learned was...",
            biggest_risk: "The biggest risk I took was...",
            biggest_surprise: "The biggest surprise of the year was...",
            important_for_others: "The most important thing I did for others was...",
            biggest_completion: "The biggest thing I completed was...",
            best_memories: "My Favorite Memories",
            accomplishment_1: "Accomplishment #1",
            accomplishment_2: "Accomplishment #2", 
            accomplishment_3: "Accomplishment #3",
            challenge_1: "Challenge #1",
            challenge_2: "Challenge #2",
            challenge_3: "Challenge #3",
            word_1: "Word 1",
            word_2: "Word 2",
            word_3: "Word 3",
            goodbye_letter: "Dear 2025..."
        };

        const SECTION_GROUPS = [
            {
                title: "Title Page",
                keys: []
            },
            {
                title: "What My Year Was About",
                keys: ["personal_family", "career_studies", "friends_community", "hobbies_creativity", "physical_health", "mental_health"]
            },
            {
                title: "Six Sentences About My Year", 
                keys: ["wisest_decision", "biggest_lesson", "biggest_risk", "biggest_surprise", "important_for_others", "biggest_completion"]
            },
            {
                title: "The Best Moments",
                keys: ["best_memories"]
            },
            {
                title: "My Biggest Accomplishments",
                keys: ["accomplishment_1", "accomplishment_2", "accomplishment_3"]
            },
            {
                title: "My Biggest Challenges",
                keys: ["challenge_1", "challenge_2", "challenge_3"]
            },
            {
                title: "My Year in 3 Words",
                keys: ["word_1", "word_2", "word_3"]
            },
            {
                title: "Goodbye to My Year",
                keys: ["goodbye_letter"]
            }
        ];

        const STORAGE_KEY = "recap-2025-responses";

        function Toast({ message, type, onClose }) {
            useEffect(() => {
                const timer = setTimeout(onClose, 3000);
                return () => clearTimeout(timer);
            }, [onClose]);

            return React.createElement('div', {
                className: `toast ${type || 'success'}`
            }, message);
        }

        function RecapForm({ onComplete }) {
            const [responses, setResponses] = useState({});
            const [currentSection, setCurrentSection] = useState(0);
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [isFlipping, setIsFlipping] = useState(false);
            const [toast, setToast] = useState(null);

            useEffect(() => {
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    try {
                        setResponses(JSON.parse(saved));
                    } catch (error) {
                        console.error("Failed to load saved responses:", error);
                    }
                }
            }, []);

            useEffect(() => {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(responses));
            }, [responses]);

            const handleResponseChange = (questionId, value) => {
                setResponses(prev => ({
                    ...prev,
                    [questionId]: value
                }));
            };

            const currentSectionData = RECAP_SECTIONS[currentSection];

            if (!currentSectionData) return null;

            const currentQuestionData = currentSectionData.questions[currentQuestion];

            if (!currentQuestionData) return null;

            const totalQuestions = RECAP_SECTIONS.reduce((sum, section) => sum + section.questions.length, 0);
            const completedQuestions = RECAP_SECTIONS.slice(0, currentSection).reduce((sum, section) => sum + section.questions.length, 0) + currentQuestion + 1;
            const progress = (completedQuestions / totalQuestions) * 100;

            const handleNext = () => {
                setIsFlipping(true);
                setTimeout(() => {
                    if (currentQuestion < currentSectionData.questions.length - 1) {
                        setCurrentQuestion(prev => prev + 1);
                    } else if (currentSection < RECAP_SECTIONS.length - 1) {
                        setCurrentSection(prev => prev + 1);
                        setCurrentQuestion(0);
                    }
                    setIsFlipping(false);
                }, 300);
            };

            const handlePrevious = () => {
                setIsFlipping(true);
                setTimeout(() => {
                    if (currentQuestion > 0) {
                        setCurrentQuestion(prev => prev - 1);
                    } else if (currentSection > 0) {
                        setCurrentSection(prev => prev - 1);
                        setCurrentQuestion(RECAP_SECTIONS[currentSection - 1].questions.length - 1);
                    }
                    setIsFlipping(false);
                }, 300);
            };

            const isLastQuestion = currentSection === RECAP_SECTIONS.length - 1 && 
                                  currentQuestion === currentSectionData.questions.length - 1;

            const handleSubmit = async () => {
                setIsSubmitting(true);
                try {
                    const completionData = {
                        responses,
                        completedAt: Date.now()
                    };
                    localStorage.setItem("recap-2025-completed", JSON.stringify(completionData));
                    
                    setToast({ message: "Your recap has been saved!", type: "success" });
                    setTimeout(() => onComplete(), 1000);
                } catch (error) {
                    setToast({ message: "Something went wrong. Please try again.", type: "error" });
                } finally {
                    setIsSubmitting(false);
                }
            };

            return React.createElement(React.Fragment, null,
                React.createElement('div', { className: 'book-page' },
                    React.createElement('div', { className: `page-content ${isFlipping ? 'flipping' : ''}` },
                        React.createElement('div', { className: 'page-header' },
                            React.createElement('div', { className: 'chapter-info' },
                                React.createElement('span', { className: 'chapter-number' }, `Chapter ${currentSection + 1}`),
                                React.createElement('h2', { className: 'chapter-title' }, currentSectionData.title)
                            ),
                            React.createElement('div', { className: 'page-number' }, `Page ${completedQuestions + 1} of ${totalQuestions}`)
                        ),
                        React.createElement('div', { className: 'progress-container' },
                            React.createElement('div', { className: 'progress-bar' },
                                React.createElement('div', { 
                                    className: 'progress-fill',
                                    style: { width: `${progress}%` }
                                })
                            )
                        ),
                        React.createElement('div', { className: 'question-content' },
                            React.createElement('h3', { className: 'question-title' }, currentQuestionData.label),
                            React.createElement('textarea', {
                                value: responses[currentQuestionData.id] || "",
                                onChange: (e) => handleResponseChange(currentQuestionData.id, e.target.value),
                                className: 'question-textarea',
                                placeholder: 'Share your thoughts...'
                            })
                        ),
                        React.createElement('div', { className: 'page-navigation' },
                            React.createElement('button', {
                                onClick: handlePrevious,
                                disabled: currentSection === 0 && currentQuestion === 0,
                                className: 'nav-button prev-button'
                            }, 'â† Previous Page'),
                            isLastQuestion ? 
                                React.createElement('button', {
                                    onClick: handleSubmit,
                                    disabled: isSubmitting,
                                    className: 'nav-button finish-button'
                                }, isSubmitting ? "Saving..." : "Complete My Recap") :
                                React.createElement('button', {
                                    onClick: handleNext,
                                    className: 'nav-button next-button'
                                }, 'Next Page â†’')
                        )
                    )
                ),
                toast && React.createElement(Toast, {
                    message: toast.message,
                    type: toast.type,
                    onClose: () => setToast(null)
                })
            );
        }

        function RecapResults({ onBack }) {
            const [recap, setRecap] = useState(null);
            const [currentPage, setCurrentPage] = useState(0);
            const [isFlipping, setIsFlipping] = useState(false);
            const [toast, setToast] = useState(null);

            useEffect(() => {
                const saved = localStorage.getItem("recap-2025-completed");
                if (saved) {
                    try {
                        setRecap(JSON.parse(saved));
                    } catch (error) {
                        console.error("Failed to load recap:", error);
                    }
                }
            }, []);

            if (!recap) {
                return React.createElement('div', { className: 'book-page' },
                    React.createElement('div', { className: 'page-content' },
                        React.createElement('div', { style: { textAlign: 'center', padding: '64px 0' } },
                            React.createElement('h2', { 
                                style: { fontSize: '24px', fontFamily: 'Georgia, serif', color: '#92400e', marginBottom: '16px' }
                            }, 'No recap found'),
                            React.createElement('button', {
                                onClick: onBack,
                                className: 'nav-button next-button'
                            }, 'Start My Recap')
                        )
                    )
                );
            }

            const handleNextPage = () => {
                if (currentPage < SECTION_GROUPS.length - 1) {
                    setIsFlipping(true);
                    setTimeout(() => {
                        setCurrentPage(prev => prev + 1);
                        setIsFlipping(false);
                    }, 300);
                }
            };

            const handlePrevPage = () => {
                if (currentPage > 0) {
                    setIsFlipping(true);
                    setTimeout(() => {
                        setCurrentPage(prev => prev - 1);
                        setIsFlipping(false);
                    }, 300);
                }
            };

            const generateMarkdownContent = () => {
                const completionDate = new Date(recap.completedAt).toLocaleDateString();
                let markdown = `# My 2025 Recap\n\n*Completed on ${completionDate}*\n\n---\n\n`;

                SECTION_GROUPS.slice(1).forEach((section, index) => {
                    markdown += `## ${section.title}\n\n`;
                    
                    section.keys.forEach((key) => {
                        const response = recap.responses[key];
                        if (response) {
                            markdown += `### ${SECTION_LABELS[key]}\n\n${response}\n\n`;
                        }
                    });
                    
                    if (index < SECTION_GROUPS.length - 2) {
                        markdown += "---\n\n";
                    }
                });

                return markdown;
            };

            const generatePlainTextContent = () => {
                const completionDate = new Date(recap.completedAt).toLocaleDateString();
                let text = `MY 2025 RECAP\nCompleted on ${completionDate}\n\n${"=".repeat(50)}\n\n`;

                SECTION_GROUPS.slice(1).forEach((section, index) => {
                    text += `${section.title.toUpperCase()}\n${"-".repeat(section.title.length)}\n\n`;
                    
                    section.keys.forEach((key) => {
                        const response = recap.responses[key];
                        if (response) {
                            text += `${SECTION_LABELS[key]}\n${response}\n\n`;
                        }
                    });
                    
                    if (index < SECTION_GROUPS.length - 2) {
                        text += `${"=".repeat(50)}\n\n`;
                    }
                });

                return text;
            };

            const downloadFile = (content, filename, type) => {
                const blob = new Blob([content], { type: type || 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            const handleExportMarkdown = () => {
                const markdown = generateMarkdownContent();
                downloadFile(markdown, 'my-2025-recap.md', 'text/markdown');
                setToast({ message: "Markdown file downloaded!", type: "success" });
            };

            const handleExportText = () => {
                const text = generatePlainTextContent();
                downloadFile(text, 'my-2025-recap.txt');
                setToast({ message: "Text file downloaded!", type: "success" });
            };

            const handleCopyToClipboard = async () => {
                const markdown = generateMarkdownContent();
                try {
                    await navigator.clipboard.writeText(markdown);
                    setToast({ message: "Recap copied to clipboard!", type: "success" });
                } catch (err) {
                    console.error('Failed to copy to clipboard:', err);
                    setToast({ message: "Failed to copy to clipboard. Please try downloading instead.", type: "error" });
                }
            };

            const handleExportProject = () => {
                const files = {
                    "my-recap-content.md": generateMarkdownContent(),
                    "my-recap-content.txt": generatePlainTextContent(),
                    "my-recap-data.json": JSON.stringify({
                        title: "My 2025 Recap",
                        year: 2025,
                        completedAt: new Date(recap.completedAt).toISOString(),
                        responses: recap.responses
                    }, null, 2)
                };

                Object.entries(files).forEach(([filename, content], index) => {
                    setTimeout(() => {
                        downloadFile(content, filename, filename.endsWith('.json') ? 'application/json' : 'text/plain');
                    }, index * 200);
                });

                setToast({ message: "All files downloaded!", type: "success" });
            };

            const currentSection = SECTION_GROUPS[currentPage];

            return React.createElement(React.Fragment, null,
                React.createElement('div', { className: 'book-page' },
                    React.createElement('div', { className: `page-content ${isFlipping ? 'flipping' : ''}` },
                        currentPage === 0 ? 
                            React.createElement('div', { className: 'title-page' },
                                React.createElement('div', { className: 'title-content' },
                                    React.createElement('h1', { className: 'book-title' }, 'My 2025 Recap'),
                                    React.createElement('div', { className: 'title-decoration' }),
                                    React.createElement('p', { className: 'completion-date' }, 
                                        `Completed on ${new Date(recap.completedAt).toLocaleDateString()}`
                                    ),
                                    React.createElement('div', { className: 'title-ornament' }, 'ðŸ“–')
                                )
                            ) :
                            React.createElement(React.Fragment, null,
                                React.createElement('div', { className: 'page-header' },
                                    React.createElement('div', { className: 'chapter-info' },
                                        React.createElement('span', { className: 'chapter-number' }, `Chapter ${currentPage}`),
                                        React.createElement('h2', { className: 'chapter-title' }, currentSection.title)
                                    ),
                                    React.createElement('div', { className: 'page-number' }, `${currentPage} of ${SECTION_GROUPS.length - 1}`)
                                ),
                                React.createElement('div', { className: 'chapter-content' },
                                    currentSection.keys.map((key) => {
                                        const response = recap.responses[key];
                                        if (!response) return null;
                                        
                                        return React.createElement('div', { key: key, className: 'response-section' },
                                            React.createElement('h3', { className: 'response-title' }, SECTION_LABELS[key]),
                                            React.createElement('div', { className: 'response-text' }, response)
                                        );
                                    })
                                )
                            ),
                        React.createElement('div', { className: 'page-navigation' },
                            currentPage === 0 ?
                                React.createElement('div', { className: 'title-nav' },
                                    React.createElement('button', {
                                        onClick: onBack,
                                        className: 'nav-button prev-button'
                                    }, 'Edit My Recap'),
                                    React.createElement('button', {
                                        onClick: handleNextPage,
                                        className: 'nav-button next-button'
                                    }, 'Begin Reading â†’')
                                ) :
                                React.createElement(React.Fragment, null,
                                    React.createElement('button', {
                                        onClick: handlePrevPage,
                                        className: 'nav-button prev-button'
                                    }, 'â† Previous'),
                                    currentPage === SECTION_GROUPS.length - 1 ?
                                        React.createElement('div', { className: 'export-buttons' },
                                            React.createElement('button', {
                                                onClick: handleExportMarkdown,
                                                className: 'nav-button export-button',
                                                title: 'Download as Markdown file'
                                            }, 'ðŸ“„ Markdown'),
                                            React.createElement('button', {
                                                onClick: handleExportText,
                                                className: 'nav-button export-button',
                                                title: 'Download as plain text'
                                            }, 'ðŸ“ Text'),
                                            React.createElement('button', {
                                                onClick: handleCopyToClipboard,
                                                className: 'nav-button export-button',
                                                title: 'Copy to clipboard'
                                            }, 'ðŸ“‹ Copy'),
                                            React.createElement('button', {
                                                onClick: handleExportProject,
                                                className: 'nav-button finish-button',
                                                title: 'Download all files'
                                            }, 'ðŸ’¾ Download All')
                                        ) :
                                        React.createElement('button', {
                                            onClick: handleNextPage,
                                            className: 'nav-button next-button'
                                        }, 'Next â†’')
                                )
                        )
                    )
                ),
                toast && React.createElement(Toast, {
                    message: toast.message,
                    type: toast.type,
                    onClose: () => setToast(null)
                })
            );
        }

        function App() {
            const [showResults, setShowResults] = useState(false);

            return React.createElement('div', { className: 'app-container' },
                React.createElement('header', { className: 'header' },
                    React.createElement('h2', null, 'My 2025 Recap')
                ),
                React.createElement('main', { className: 'main-content' },
                    React.createElement('div', { className: 'content-wrapper' },
                        React.createElement('div', { className: 'title-section' },
                            React.createElement('h1', { className: 'main-title' }, 'My 2025 Recap')
                        ),
                        React.createElement('div', { className: 'book-container' },
                            showResults ? 
                                React.createElement(RecapResults, { onBack: () => setShowResults(false) }) :
                                React.createElement(RecapForm, { onComplete: () => setShowResults(true) })
                        )
                    )
                )
            );
        }

        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>
